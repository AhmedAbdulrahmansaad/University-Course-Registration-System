# ๐จ ุงูุญู ุงูุณุฑูุน ูุฎุทุฃ PGRST116

## ๐ฏ ุงูุฎุทุฃ ุงูุฐู ุชุฑุงู

```
โ [Login] User data not found in database: {
  "code": "PGRST116",
  "details": "The result contains 0 rows",
  "message": "Cannot coerce the result to a single JSON object"
}
โ [Login] Searched for auth_id: 93c26484-b929-443e-827a-9d0bdc681642
โ [Login] User email: mohammed5@kku.edu.sa
```

## ๐ ุงูุชุดุฎูุต

**ุงููุดููุฉ:** ูุฏูู **ุญุณุงุจ ูุชูู** ๐ป

**ูุงุฐุง ูุนูู ูุฐุงุ**
- โ ุงูุญุณุงุจ ููุฌูุฏ ูู Auth (ูุธุงู ุงููุตุงุฏูุฉ)
- โ ููู **ููุณ ูู ุณุฌู** ูู ุฌุฏูู `users` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ๏ธ ูุฐูู ุนูุฏ ุชุณุฌูู ุงูุฏุฎููุ ุงููุธุงู ูุง ูุฌุฏ ุจูุงูุงุชู!

**ููุงุฐุง ุญุฏุซ ูุฐุงุ**
1. ุฅูุง ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุงูุฌุฏุงูู) ุบูุฑ ููุฌูุฏุฉ ุฃุตูุงู
2. ุฃู ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุชุณุฌูู ูุชู ุฅูุดุงุก ุญุณุงุจ Auth ููู ูุดู ุฅูุดุงุก ุงูุณุฌู ูู DB

---

## โ ุงูุญู ุงูุณุฑูุน (3 ุฎุทูุงุช - ุฏูููุชุงู!)

### ุงูุฎุทูุฉ 1: ุงูุชุญ ุตูุญุฉ ุงูุชูุธูู ๐งน

**3 ุทุฑู ุณููุฉ:**

#### ุงูุทุฑููุฉ 1: ูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (ุงูุฃุณูู! โญ)
```
1. ุงุฐูุจ ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
2. ุงูุธุฑ ููุตูุฏูู ุงูุจุฑุชูุงูู ูู ุงูุฃุณูู
3. ุงููุฑ: "๐ ุงููุฑ ููุง ูุฅุตูุงุญ ุงููุดููุฉ"
```

#### ุงูุทุฑููุฉ 2: ูู ุตูุญุฉ ุงูุชุณุฌูู
```
1. ุงุฐูุจ ูุตูุญุฉ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
2. ุฃุณูู ุงูุตูุญุฉ ุณุชุฌุฏ ุฑุณุงูุฉ ุจุฑุชูุงููุฉ
3. ุงููุฑ: "ุงุณุชุฎุฏู ุฃุฏุงุฉ ุงูุชูุธูู"
```

#### ุงูุทุฑููุฉ 3: ูุจุงุดุฑุฉ
```
ูู ุดุฑูุท ุงูุนููุงูุ ุฃุถู: ?page=cleanup
```

---

### ุงูุฎุทูุฉ 2: ุงุญุฐู ุงูุญุณุงุจ ุงููุชูู ๐๏ธ

ูู ุตูุญุฉ ุงูุชูุธูู:

```
1. ุฃุฏุฎู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: mohammed5@kku.edu.sa
2. ุงููุฑ: "ุชูุธูู ุงูุญุณุงุจ" (ุฃู "Cleanup Account")
3. ุงูุชุธุฑ 3 ุซูุงูู
4. โ ุณุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ!
```

**ูุง ุงูุฐู ุณูุญุฏุซุ**
- ุณูุชู ุญุฐู ุงูุญุณุงุจ ูู Auth (ูุธุงู ุงููุตุงุฏูุฉ)
- ุณูุตุจุญ ุงูุจุฑูุฏ ูุชุงุญุงู ููุชุณุฌูู ูู ุฌุฏูุฏ

---

### ุงูุฎุทูุฉ 3: ุณุฌู ูู ุฌุฏูุฏ ๐

```
1. ุงุฐูุจ ูุตูุญุฉ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
2. ุงุณุชุฎุฏู ููุณ ุงูุจุฑูุฏ: mohammed5@kku.edu.sa
3. ุงููุฃ ุฌููุน ุงูุจูุงูุงุช ุงููุทููุจุฉ:
   โ ุงูุงุณู ุงููุงูู
   โ ุงูุจุฑูุฏ ุงูุฌุงูุนู
   โ ูููุฉ ูุฑูุฑ ูููุฉ
   โ ุงูุฑูู ุงูุฌุงูุนู (9 ุฃุฑูุงู)
   โ ุงูุชุฎุตุต
   โ ุงููุณุชูู ุงูุฏุฑุงุณู
   
4. ุงููุฑ: "ุฅูุดุงุก ุงูุญุณุงุจ"

5. โ ุงููุธุงู ุงูุขู ุฐูู - ุณููุฌุญ ุชููุงุฆูุงู!
```

**ููุงุญุธุฉ ูููุฉ:**
- ุฅุฐุง ูุงูุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉุ ุณููุฌูู ุงููุธุงู ุชููุงุฆูุงู ูุตูุญุฉ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงุชุจุน ุงูุชุนูููุงุช ููุงู (ุชุดุบูู `/database-setup.sql`)

---

## ๐ ูุง ุงูุฌุฏูุฏุ (ุชู ุฅุตูุงุญู ุงูุขู!)

### 1. **ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู ุงูุขู ุฐููุฉ ุฌุฏุงู! ๐ง**

ุงูุขู ุชูุชุดู 3 ุฃููุงุน ูู ุงูุฃุฎุทุงุก:

#### ๐ด ุฎุทุฃ 1: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ
```
ุฅุฐุง ุธูุฑ ุฎุทุฃ ููุฏ 42P01 ุฃู "does not exist":
โ ุณูุธูุฑ ุฑุณุงูุฉ: "๐จ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ!"
โ ุณููุฌูู ุชููุงุฆูุงู ูุตูุญุฉ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ุชุชุจุน ุงูุชุนูููุงุช ูุชุดุบูู /database-setup.sql
```

#### ๐ ุฎุทุฃ 2: ุญุณุงุจ ูุชูู (ูุดููุชู ุงูุญุงููุฉ!)
```
ุฅุฐุง ุธูุฑ ุฎุทุฃ PGRST116 ุฃู "0 rows":
โ ุณูุธูุฑ ุฑุณุงูุฉ: "โ๏ธ ุญุณุงุจ ูุชูู - ุบูุฑ ููุชูู!"
โ ุณููุฌูู ุชููุงุฆูุงู ูุตูุญุฉ ุงูุชูุธูู
โ ุชุญุฐู ุงูุญุณุงุจ ูุชุณุฌู ูู ุฌุฏูุฏ
```

#### ๐ด ุฎุทุฃ 3: ุฎุทุฃ ุขุฎุฑ
```
ุฃู ุฎุทุฃ ุขุฎุฑ:
โ ุณูุธูุฑ ุฑุณุงูุฉ ุนุงูุฉ: "โ ุญุณุงุจ ุบูุฑ ููุชูู"
โ ุณููุฌูู ูุตูุญุฉ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
```

### 2. **ุฑุณุงุฆู ุชูุตูููุฉ ูุงุถุญุฉ ๐ข**

**ูุจู:**
```
โ ุญุณุงุจ ุบูุฑ ููุชูู
(ูุงุฐุง ุฃูุนูุ ๐ค)
```

**ุจุนุฏ:**
```
โ๏ธ ุญุณุงุจ ูุชูู - ุบูุฑ ููุชูู!

ุญุณุงุจู ููุฌูุฏ ูู ูุธุงู ุงููุตุงุฏูุฉ ููู ุจูุงูุงุชู ุบูุฑ ููุชููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

ุงูุจุฑูุฏ: mohammed5@kku.edu.sa

ุณูุชู ุชูุฌููู ูุตูุญุฉ ุงูุชูุธูู ูุญู ุงููุดููุฉ... (10 ุซูุงูู)

๐งน ุณูุชู ุชูุฌููู ูุตูุญุฉ ุงูุชูุธูู... (3 ุซูุงูู)

โ ุตูุญุฉ ุงูุชูุธูู ุชูุชุญ ุชููุงุฆูุงู โ
```

### 3. **ุชูุฌูู ุชููุงุฆู ุฐูู ๐ฏ**

- โ ููุชุดู ููุน ุงูุฎุทุฃ
- โ ูุนุทูู ุฑุณุงูุฉ ูุงุถุญุฉ
- โ ููุฌูู ููุตูุญุฉ ุงูููุงุณุจุฉ ุชููุงุฆูุงู
- โ ูุง ุญุงุฌุฉ ููุชูููุฑ - ููุท ุงุชุจุน ุงูุชุนูููุงุช!

---

## ๐ง ุงูุญู ุงูุจุฏูู (ูุฏููุงู ูู Supabase)

ุฅุฐุง ูู ุชูุฌุญ ุฃุฏุงุฉ ุงูุชูุธููุ ุงุญุฐู ูุฏููุงู:

### ุงูุฎุทูุฉ 1: ุงูุชุญ Supabase Auth Dashboard
```
https://supabase.com/dashboard/project/edlnpolgtkrmddjyrxwm/auth/users
```

### ุงูุฎุทูุฉ 2: ุงุจุญุซ ุนู ุงูุจุฑูุฏ
```
ุงุจุญุซ ุนู: mohammed5@kku.edu.sa
```

### ุงูุฎุทูุฉ 3: ุงุญุฐู ุงููุณุชุฎุฏู
```
1. ุงููุฑ ุนูู "..." ุจุฌุงูุจ ุงูุจุฑูุฏ
2. ุงุฎุชุฑ "Delete user"
3. ุฃูุฏ ุงูุญุฐู
4. โ ุชู!
```

### ุงูุฎุทูุฉ 4: ุณุฌู ูู ุฌุฏูุฏ
```
ุงุฑุฌุน ููุชุทุจูู โ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
```

---

## ๐ ููุงุฐุง ูุญุฏุซ PGRST116ุ

**PGRST116** ูุนูู: "ูุง ูููู ุชุญููู ุงููุชูุฌุฉ ุฅูู ูุงุฆู JSON ูุงุญุฏ"

**ุจุจุณุงุทุฉ:** ุงูุงุณุชุนูุงู ูุจุญุซ ุนู ุณุฌู ูุงุญุฏ ููู ูุง ูุฌุฏ ุฃู ุณุฌู (0 rows)

**ูู ุญุงูุชู:**
```sql
SELECT * FROM users WHERE auth_id = '93c26484-b929-443e-827a-9d0bdc681642'

ุงููุชูุฌุฉ: 0 rows โ

ุงูุณุจุจ: ุงูุญุณุงุจ ููุฌูุฏ ูู Auth ููู ููุณ ูู ุฌุฏูู users
```

**ุงูุญู:** ุญุฐู ุงูุญุณุงุจ ูู Auth ูุฅูุดุงุคู ูู ุฌุฏูุฏ ุจุดูู ูุงูู

---

## ๐ ููุชุฃูุฏ ูู ุนุฏู ุญุฏูุซ ุงููุดููุฉ ูุฑุฉ ุฃุฎุฑู

### โ ุชุฃูุฏ ูู ูุฌูุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃููุงู

ูุจู ุงูุชุณุฌููุ ุชุฃูุฏ ูู:

1. **ุงูุฌุฏุงูู ููุฌูุฏุฉ:**
   - ุงูุชุญ ุตูุญุฉ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุฌุจ ุฃู ุชููู ุงูู 6 ุฌุฏุงูู ูููุง โ
   - ุฅุฐุง ููููุฏุฉุ ุดุบู `/database-setup.sql`

2. **ุงูุณูุฑูุฑ ูุนูู:**
   - ุญุงูู ุงูุชุณุฌูู
   - ุฅุฐุง ุธูุฑุช ุฑุณุงูุฉ DATABASE_NOT_SETUP
   - ุงุชุจุน ุงูุชุนูููุงุช

3. **ูุง ุชูุฌุฏ ุญุณุงุจุงุช ูุชููุฉ:**
   - ุฅุฐุง ูุดู ุงูุชุณุฌูู ุจุฎุทุฃ "already exists"
   - ุงูุชุญ ุตูุญุฉ ุงูุชูุธูู
   - ุงุญุฐู ุงูุญุณุงุจ ุงููุฏูู

---

## ๐ ููุฎุต ุณุฑูุน (30 ุซุงููุฉ!)

```
1. ุงููุดููุฉ: ุญุณุงุจ ูุชูู (ูู Auth ููู ููุณ ูู DB)
2. ุงูุญู: ุงุญุฐู ูู Auth โ ุณุฌู ูู ุฌุฏูุฏ
3. ุงูุฃุฏุงุฉ: ุตูุญุฉ ุงูุชูุธูู (cleanup page)
4. ุงูุฎุทูุงุช:
   โ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู โ ุตูุฏูู ุจุฑุชูุงูู โ ุงููุฑ
   โ ุฃุฏุฎู ุงูุจุฑูุฏ โ ุชูุธูู ุงูุญุณุงุจ
   โ ุณุฌู ูู ุฌุฏูุฏ โ ูุฌุญ! ๐
```

---

## ๐ฏ ุงูุขู ุฌุฑุจ ุงูุญู!

### ุฎูุงุฑ 1: ุงุณุชุฎุฏู ุตูุญุฉ ุงูุชูุธูู (ููุตู ุจู! โญ)
```
ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู โ ุงูุตูุฏูู ุงูุจุฑุชูุงูู โ "ุงููุฑ ููุง"
โ ุฃุฏุฎู ุงูุจุฑูุฏ โ ุชูุธูู
โ ุณุฌู ูู ุฌุฏูุฏ โ
```

### ุฎูุงุฑ 2: ุงุญุฐู ูุฏููุงู ูู Supabase
```
Supabase โ Auth โ Users โ ุงุจุญุซ โ ุงุญุฐู
โ ุณุฌู ูู ุฌุฏูุฏ โ
```

---

**๐ ูุดุฑูุน ุชุฎุฑุฌ: ูุธุงู ุชุณุฌูู ุงูููุฑุฑุงุช**

**๐๏ธ ุฌุงูุนุฉ ุงูููู ุฎุงูุฏ - ูููุฉ ุฅุฏุงุฑุฉ ุงูุฃุนูุงู**

**๐ ูุณู ูุธู ุงููุนูููุงุช ุงูุฅุฏุงุฑูุฉ**

**๐จโ๐ซ ุฅุดุฑุงู: ุฏ. ูุญูุฏ ุฑุดูุฏ**

**Good luck! ๐**

**ุชู ุจุญูุฏ ุงููู โจ**
